{% extends 'base.html' %}
{% load bootstrap4 %}

{% block title %}
{% endblock %}

{% block head %}
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
{% endblock %}

{% block style %}
<style>
#ToTopButton{
    position: fixed;
    right: 2%;
    bottom: 50px;
    display: none;
    z-index: 999;
}
</style>
    
{% endblock %}

{% block context %}
    {% if request.user.is_authenticated %} 
    <div class="container-fluid border border-dark">
        <h3>추천 영화</h3>
        <div class="d-flex">
            {% for recommend in recommends %}
            <a href="{% url 'movies:detail' recommend.pk %}">
                <img src="https://image.tmdb.org/t/p/w154{{ recommend.poster_path }}" 
                    alt="{{ recommend.title }}" 
                    class="card-img-top ReSizeImage">
            </a>
            {% endfor %}
        </div>
    </div>

    <div class="container-fluid border border-dark">
        <h3>이런 영화는 어떠세요?</h3>
        <div class="d-flex">
            {% for movie in movies %}
            <a href="{% url 'movies:detail' movie.pk %}">
                <img src="https://image.tmdb.org/t/p/w154{{ movie.poster_path }}" 
                    alt="{{ movie.title }}" 
                    class="card-img-top ReSizeImage">
            </a>
            {% endfor %}
        </div>
    </div>


    {% else %}
    <!-- cinema 소개 -->
    <div class="container-fluid bg-white w3-center mb-5">
        <div class="container w3-padding-64">
            <h2 class="w3-wide">SCAFY</h2>
            <p class="w3-opacity"><i>SSAFY CINEMA ANALYSIS FOR YOU</i></p>
            <p class="w3-justify">We have created a fictional band website. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
            ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur
            adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
    </div>
    <!-- Container (Services Section) -->
<div id="services" class="container-fluid text-center w3-light-grey w3-padding-64">
    <h2>SERVICES</h2>
    <h4>What we offer</h4>
    <br>
    <div class="row slideanim">
      <div class="col-sm-4">
        <div class="card">
        <i class="fas fa-globe fa-5x my-3"></i>
        <h4>영화추천</h4>
        <p>당신의 생각을 공유하세요</p>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="card">
        <i class="fas fa-globe fa-5x my-3"></i>
        <h4>영화리뷰</h4>
        <p>당신의 생각을 공유하세요</p>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="card">
        <i class="fas fa-globe fa-5x my-3"></i>
        <h4>커뮤니티</h4>
        <p>당신의 생각을 공유하세요</p>
        </div>
      </div>

    </div>
  </div>
        <!-- 로그인 & 회원가입 & 영화리스트? -->
    <div class="container-fluid text-center  mb-5 w3-padding-64" style="background-color: lightslategray;">
        <h2>JOIN US NOW</h2>
        <br>
        <div class="w3-row-padding w3-center w3-margin-top">
            <div class="w3-third">
            <div class="w3-card w3-container w3-light-grey" style="min-height:300px">
                <h3 class="mt-3">로그인</h3><br>
                <p>Built-in responsiveness</p>
                <p>Mobile first fluid grid</p>
                <p>Fits any screen sizes</p>
                <p>PC Tablet and Mobile</p>
                <a href="{% url 'accounts:login' %}">
                    <button class="w3-btn w3-xlarge w3-dark-grey w3-hover-light-grey" style="font-weight:900;">LOGIN</button>
                </a>
                
            </div>
            </div>
            
            <div class="w3-third">
            <div class="w3-card w3-container w3-light-grey" style="min-height:300px">
                <h3 class="mt-3">회원가입</h3><br>
                <p>Standard CSS only</p>
                <p>Easy to learn</p>
                <p>No need for jQuery</p>
                <p>No JavaScript library</p>
                <a href="{% url 'accounts:signup' %}">
                    <button class="w3-btn w3-xlarge w3-dark-grey w3-hover-light-grey" style="font-weight:900;">SIGNUP</button>
                </a>
                
            </div>
            </div>
            
            <div class="w3-third">
            <div class="w3-card w3-container w3-light-grey" style="min-height:300px">
                <h3 class="mt-3">SCAFY</h3><br>
                <p>Paper like design</p>
                <p>Bold colors and shadows</p>
                <p>Equal across platforms</p>
                <p>Equal across devices</p>
                <a href="{% url 'community:community' %}">
                    <button class="w3-btn w3-xlarge w3-dark-grey w3-hover-light-grey" style="font-weight:900;">COMMUNITY</button>
                </a>
                
            </div>
            </div>
        </div>
    </div>

    {% endif %}

    <footer class="container-fluid text-center">
        <a href="#myPage" title="To Top">
            <i class="w3-button w3-circle w3-teal fas fa-chevron-up" id="ToTopButton"></i>
        </a>
        <p>Bootstrap Theme Made By <a href="https://www.w3schools.com" title="Visit w3schools">www.w3schools.com</a></p>
      </footer>
      

{% endblock %}

{% block script %}
<script>
$(document).ready(function(){
    $(window).scroll(function() {
            if ($(this).scrollTop() > 500) {
                $('#ToTopButton').fadeIn();
            } else {
                $('#ToTopButton').fadeOut();
            }
        });


    $("#ToTopButton").click(function(event) {
        $('html, body').animate({
            scrollTop: 0
        }, 400);
        return false
    })
})
</script>
{% endblock %}