<!DOCTYPE html>
{% load bootstrap4 %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- w3 school - style css -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
    <!-- icon -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <title>{% block title %}{% endblock %}</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    {% bootstrap_css %}
</head>

<body>

    <div class="w3-sidebar w3-collapse w3-white w3-large" style="z-index:3;width:300px;" id="mySidebar">        
        <div class="w3-black d-flex justify-content-between align-items-center">
            <i class="fas fa-user-circle align-self-center mx-3 py-3">  
                {% if request.user.is_authenticated %}
                    <a href="{% url 'accounts:profile' %}" class="w3-text-light-grey">{{ request.user.username }}</a>
                {% else %}
                    <a href="{% url 'accounts:login' %}" class="w3-text-light-grey">로그인</a>
                {% endif %}
            </i>
            <a class="w3-button w3-hover-black w3-hide-large w3-large w3-right mx-3 px-0" href="javascript:void(0)" onclick="w3_close()">×</a>
            <!-- <a class="w3-bar-item w3-button" style="width:33.33%" href="javascript:void(0)" onclick="openNav('nav01')">
            <i class="fa fa-bars w3-xlarge"></i></a>
            <a class="w3-bar-item w3-button" style="width:33.33%" href="javascript:void(0)" onclick="openNav('nav03')">
            <i class="fa fa-file w3-xlarge"></i></a>
            <a class="w3-bar-item w3-button" style="width:33.33%" href="javascript:void(0)" onclick="openNav('nav02')">
            <i class="fa fa-camera w3-xlarge"></i></a> -->
        </div>

        <div id="nav01" class="w3-bar-block">
            <a class="w3-bar-item w3-button text-decoration-none" href="{% url 'movies:index' %}">전체 영화</a>
            <a class="w3-bar-item w3-button text-decoration-none" href="{% url 'community:community' %}">커뮤니티</a>
            {% if request.user.is_authenticated %}
                <form action="{% url 'accounts:logout' %}" method="POST">
                    {% csrf_token %}
                    <button class="w3-bar-item w3-button text-decoration-none">로그아웃</button>
                </form>
            {% else %}
                <a href="{% url 'accounts:signup' %}" class="w3-bar-item w3-button text-decoration-none">회원가입</a>
            {% endif %}
        </div>

    </div>


    <div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" id="myOverlay"></div>
        <div class="w3-main" style="margin-left:300px;"> 
            <div class="w3-top w3-light-gray w3-large w3-hide-large">
                <i class="fa fa-bars w3-button w3-light-gray w3-xlarge" onclick="w3_open()"></i>
            </div>
            
            <header class="w3-container w3-light-gray w3-padding-64 w3-center">
                <h1 class="w3-xxxlarge w3-padding-16">
                    <a href="{% url 'community:community' %}" class="text-decoration-none w3-text-black">CINEMA</a>
                </h1>
            </header>

            <div class="container my-5">
                {% block context %}
                {% endblock %}
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        function w3_open() {
            document.getElementById("mySidebar").style.display = "block";
            document.getElementById("myOverlay").style.display = "block";
        }

        function w3_close() {
            document.getElementById("mySidebar").style.display = "none";
            document.getElementById("myOverlay").style.display = "none";
        }

        // openNav("nav01");
        // function openNav(id)/ {
            // document.getElementById("nav01").style.display = "block";
        // }
    </script>
    {% bootstrap_javascript jquery='full' %}
</body>
</html>